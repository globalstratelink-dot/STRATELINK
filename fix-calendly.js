const fs = require("fs"); const content = fs.readFileSync("components/home-slides.tsx", "utf8"); const corrected = content.replace(/      // Charger le script Calendly\n  useEffect\(\(\) => \{[\s\S]*?\}, \[\]\);\n\n  return \(\) => window\.removeEventListener\(
resize, checkMobile\)/g, "      return () => window.removeEventListener(resize, checkMobile)\n    }\n  }, [])\n  \n  // Charger le script Calendly\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      // Ajouter le CSS Calendly\n      const link = document.createElement(\"link\");\n      link.href = \"https://assets.calendly.com/assets/external/widget.css\";\n      link.rel = \"stylesheet\";\n      document.head.appendChild(link);\n\n      // Ajouter le script Calendly\n      const script = document.createElement(\"script\");\n      script.src = \"https://assets.calendly.com/assets/external/widget.js\";\n      script.async = true;\n      document.head.appendChild(script);\n\n      return () => {\n        // Nettoyer si nécessaire\n        try {\n          if (document.head.contains(link)) {\n            document.head.removeChild(link);\n          }\n          if (document.head.contains(script)) {\n            document.head.removeChild(script);\n          }\n        } catch (error) {\n          console.warn(\"Erreur lors du nettoyage des scripts Calendly:\", error);\n        }\n      };\n    }\n  }, [])"); fs.writeFileSync("components/home-slides.tsx", corrected); console.log("Structure Calendly corrigée");
